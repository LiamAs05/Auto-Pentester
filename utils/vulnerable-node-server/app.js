const express = require('express');
const app = express();
const bodyParser = require('body-parser');
const sqlite3 = require('sqlite3');
const alert = require('alert')

app.set('views', __dirname + '\\views')
app.use(bodyParser.urlencoded({ extended: true }));
app.engine('html', require('ejs').renderFile);
app.set('view engine', 'ejs');

app.get('/login', (req, res) => {
  res.render('login.html');
});

app.get('/xss', (req, res) => {
  res.render('xss.html');
});


app.post('/login', (req, res) => {
  const username = req.body.username;
  const password = req.body.password;
  const sql = `SELECT * FROM users WHERE username = '${username}' AND password = '${password}'`;
  alert(sql)
});

app.listen(3000, () => {
  console.log('Server listening on port 3000');
});
