import unittest

from src.analyzer.page import Page


class PageTests(unittest.TestCase):
    def test_bracket_operator(self):
        s = Page("Hello/World")
        self.assertEqual(s.__str__(), "Page at route Hello/World")
        self.assertEqual(s["route"], "Hello/World")  # return val when there is a val
        self.assertEqual(s["bases"], set())  # return Set when item is empty
        self.assertEqual(s["Hello"], None)  # return None when item doesn't exist
        s["bases"] = "hello"
        self.assertEqual(s["bases"], {"hello"})
        s["bases"] = "Bye"
        self.assertEqual(s["bases"], {"hello", "Bye"})
        self.assertEqual(s["cookies"], {})


if __name__ == '__main__':
    unittest.main()
