#! /usr/bin/python3

from sys import stdout
from colorama import Fore, Style


class OutputManager:
    @staticmethod
    def extract_info(input_file_path: str, attacks_used: list[str], url: str) -> None:
        """
        This function is responsible for extracting info from the various managers/attackers,
        and outputting it nicely for the user to a stream of choice
        @params input_file_path, attacks_used, url: info-only, printed parameters for the output
        @return: None
        """
        stream = stdout  # setting default output to stdout

        # this string is the output of our program
        output = f"""[*] Configuration File: {input_file_path} 
[*] Attacks Used: {attacks_used}
[*] Site: {url}"""

        if OutputManager._output_to_file():  # if the user wants to output to file instead of the console
            pass
            # todo stream = output file

        print(f"{Fore.GREEN}")      # a little game of colors to print nicer
        print(output, file=stream)
        print(f"{Style.RESET_ALL}")

    @staticmethod
    def _output_to_file() -> bool:
        """
        This function is a private function of the output manager
        it's sole purpose is to ask the user where he wants his output to appear
        @return: True for file, False for console (stdout)
        """
        print(f"{Fore.LIGHTBLUE_EX}Would you like to output the report to a file?")
        out_choice = input(f"Choose {Fore.RED}f/F {Fore.LIGHTBLUE_EX}"
                           f"for file and any other key for the console:{Style.RESET_ALL} ")
        return out_choice.lower() == 'f'
