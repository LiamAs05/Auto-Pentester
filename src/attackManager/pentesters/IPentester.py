from abc import ABC, abstractmethod
from src.attackManager.Vulnerability import Vulnerability
from src.communicator.communicator import Communicator
from src.spider.website import Website

from threading import Lock
# TODO: Import DB Manager

import copy


class IPentester(ABC):
    def __init__(self, communicator: Communicator, website: Website):
        self._communicator = copy.deepcopy(communicator)
        self._website = copy.deepcopy(website)
        self._vulnerable_pages = []
        # TODO: open connection with DB

    @abstractmethod
    def attack(self, vulnerable_list: list[Vulnerability], list_lock: Lock) -> None:
        pass
